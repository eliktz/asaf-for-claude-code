# ASAF Demo Command

**Command**: `/asaf-demo`

**Purpose**: Generate demo presentation of completed work

---

## Step 0: Verify Active Sprint

1. Check if /asaf/.current-sprint.json exists
   - If NO: Run auto-selection algorithm (see asaf-core.md)
   - If YES: Read sprint name from file

2. Validate selected sprint exists at /asaf/<sprint-name>/
   - If NO: Sprint was deleted
     - Delete stale /asaf/.current-sprint.json
     - Log: "Selected sprint no longer exists, auto-selecting..."
     - Run auto-selection algorithm
   - If YES: Continue

3. Validate sprint has .state.json
   - Check /asaf/<sprint-name>/.state.json exists
   - If NO but sprint folder exists:
     - LENIENT WARNING: Log "Sprint has no .state.json (may be incomplete)"
     - Continue anyway (developer may be fixing)
   - If sprint folder missing: Already handled in step 2

4. Set context: All subsequent operations use /asaf/<sprint-name>/

---

## Prerequisites

Check `.state.json`:
- implementation_approved must be true
- phase must be "demo"
- status must be "ready"

If not ready:
```
🔴 ERROR: Cannot generate demo

Current state: [phase] - [status]

[If implementation not approved]
Implementation must be approved first.
Run: /asaf-impl-approve

[If wrong phase]
Demo can only be generated after implementation.
```
**STOP execution.**

---

## Generate Demo Presentation

Create `demo/presentation.md`:

```markdown
# Demo: [Sprint Name]

**Presented**: [Date]
**Sprint Duration**: [Total time]

---

## 🎯 What We Set Out To Build

[From initial.md]

**Goal**: [Primary objective]

**Success Criteria**:
[From acceptance-criteria.md, brief list]

---

## ✅ What Was Delivered

[High-level summary of implementation]

### Key Features Implemented

1. **[Feature 1]**
   - [Brief description]
   - [Key benefit]

2. **[Feature 2]**
   - [Brief description]
   - [Key benefit]

[Continue for major features]

---

## 📊 Acceptance Criteria Status

[From acceptance-criteria.md]

| # | Criterion | Status |
|---|-----------|--------|
| 1 | [Criterion] | ✅ Met |
| 2 | [Criterion] | ✅ Met |
| 3 | [Criterion] | ✅ Met |

**Result**: [X]/[X] criteria met (100%)

---

## 💻 Code Highlights

### [Component/Feature 1]

```[language]
[Key code snippet showing implementation]
```

**What this does**: [Explanation]

**Why this approach**: [Rationale from design]

---

### [Component/Feature 2]

```[language]
[Key code snippet]
```

**What this does**: [Explanation]

---

## 🧪 Testing & Quality

**Test Coverage**:
- Total tests: [X]
- Passing: [X] (100%)
- Coverage: [%]%

**Test Types**:
- Unit tests: [X]
- Integration tests: [X]
- Edge case tests: [X]

**Quality Metrics**:
- All edge cases handled: ✅
- Code reviewed: ✅
- Documentation complete: ✅

---

## ⚠️ Edge Cases Handled

[From edge-cases.md, highlight key ones]

1. **[Edge case]**: [How handled]
2. **[Edge case]**: [How handled]
3. **[Edge case]**: [How handled]

[Full list: grooming/edge-cases.md]

---

## 📁 What Changed

**Files Created** ([N]):
- `path/to/file` - [Purpose]

**Files Modified** ([N]):
- `path/to/file` - [Changes]

**Tests Created** ([N]):
- `path/to/test` - [Coverage]

---

## 📈 Development Metrics

**Implementation**:
- Tasks: [X] completed
- Iterations: [X] total (avg [Y] per task)
- Duration: [hours]

**Efficiency**:
- [X]% of tasks completed in 1 iteration
- [X] tasks required review iterations
- Average time per task: [duration]

---

## 🎓 What Was Learned

[From personal goals and implementation experience]

**Technical Skills**:
- [Skill/pattern learned]
- [Skill/pattern learned]

**Process Insights**:
- [Process learning]
- [Process learning]

---

## 🚀 Next Steps

**Immediate** (if any follow-up needed):
- [Follow-up item 1]
- [Follow-up item 2]

**Future Enhancements** (out of scope):
- [Enhancement 1]
- [Enhancement 2]

**Reusable Patterns**:
- [Pattern that can be reused]
- [Pattern that can be reused]

---

## 📚 Resources

- Sprint summary: asaf/[sprint]/SUMMARY.md
- Design docs: asaf/[sprint]/grooming/
- Implementation log: asaf/[sprint]/implementation/progress.md

---

_Demo generated by ASAF • [Date]_
```

---

## Update State

```json
{
  "phase": "demo",
  "status": "complete",
  "demo_generated_at": "[timestamp]"
}
```

---

## Update SUMMARY.md

Add demo section:

```markdown
## 🎤 Demo

**Generated**: [date/time]

Demo presentation available: demo/presentation.md

**Highlights**:
- All acceptance criteria met ([X]/[X])
- [X] tests, 100% passing
- [Key achievement]
- [Key achievement]

---

## 📊 Sprint Progress

- [x] Initialization
- [x] Grooming
- [x] Planning
- [x] Implementation
- [x] Demo ← _Just completed_
- [ ] Retrospective

---

_Demo generated on [date]_
```

---

## Display Message

```
📊 Demo generated successfully!

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Created: demo/presentation.md

**Presentation includes**:
  ✓ What was built
  ✓ Acceptance criteria status ([X]/[X] met)
  ✓ Code highlights
  ✓ Testing & quality metrics
  ✓ Edge cases handled
  ✓ Development metrics
  ✓ Learnings

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

**Key Highlights**:
- All acceptance criteria met ✅
- [X] tests, 100% passing ✅
- [X]% code coverage ✅
- [Notable achievement]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

View presentation:
  Open: asaf/[sprint]/demo/presentation.md

Next step:
  /asaf-demo-approve    - Approve and move to retrospective

Or:
  /asaf-demo-edit       - Edit presentation manually
  /asaf-summary         - View full sprint summary
```

---

## Demo Variations

### For Different Audiences

Can generate different formats:

**Technical** (default):
- Code snippets
- Architecture details
- Technical decisions

**Executive**:
```bash
/asaf-demo --audience=executive
```
- Business value focus
- Metrics and outcomes
- High-level overview
- No code details

**Team**:
```bash
/asaf-demo --audience=team
```
- Process insights
- Learnings
- Reusable patterns
- Collaboration highlights

---

## Error Handling

### No Implementation Data

```
🔴 ERROR: Cannot generate demo

Missing implementation data:
  - implementation/progress.md not found
  - Or progress.md is empty

The sprint may be incomplete or corrupted.

Options:
  /asaf-status     - Check sprint status
  /asaf-impl       - Run implementation
```

---

### Demo Generation Fails

```
🟡 WARNING: Demo generation incomplete

Generated partial presentation with available data.

Missing sections:
  - [Section name]

You can:
  /asaf-demo-retry          - Try again
  /asaf-demo-edit           - Edit manually
  /asaf-demo-skip           - Skip demo phase

Recommendation: Manually complete missing sections.
```

---

## Context to Include

- Initial feature description
- Grooming docs (design, edge cases, criteria)
- Implementation results (progress.md)
- Test results
- Metrics
- Personal goals (for learning section)

---

_Demo command creates presentation-ready summary of sprint work._
